\doxysection{Référence de la classe Controllers\textbackslash{}Information\+Controller}
\hypertarget{class_controllers_1_1_information_controller}{}\label{class_controllers_1_1_information_controller}\index{Controllers\textbackslash{}InformationController@{Controllers\textbackslash{}InformationController}}
Graphe d\textquotesingle{}héritage de Controllers\textbackslash{}Information\+Controller\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_controllers_1_1_information_controller}
\end{center}
\end{figure}
\doxysubsubsection*{Fonctions membres publiques}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_controllers_1_1_information_controller_ae7a330c05be4f611751a235d23929127}{\+\_\+\+\_\+construct}} ()
\item 
\mbox{\hyperlink{class_controllers_1_1_information_controller_ac3f12181824a884165d0fdd4d1e44f15}{create}} ()
\item 
\mbox{\hyperlink{class_controllers_1_1_information_controller_a731fac8771d3dcc7d56b37b9612d110c}{modify}} ()
\item 
\mbox{\hyperlink{class_controllers_1_1_information_controller_a58266dec0e8218bb55a7511c9aa49074}{register\+File}} (\$filename, \$tmp\+Name, \$entity)
\item 
\mbox{\hyperlink{class_controllers_1_1_information_controller_a9830fd36eafa174a6b96569d8187cf97}{delete\+File}} (\$id)
\item 
\mbox{\hyperlink{class_controllers_1_1_information_controller_abb958c063180d6e0553a62b6f16c15dd}{display\+All}} ()
\item 
\mbox{\hyperlink{class_controllers_1_1_information_controller_a8a0704e7ed3fa94407745596ba85202a}{end\+Date\+Check\+Info}} (\$id, \$end\+Date)
\item 
\mbox{\hyperlink{class_controllers_1_1_information_controller_a12d200352a5d0546cbb9c845a0513595}{information\+Main}} ()
\item 
\mbox{\hyperlink{class_controllers_1_1_information_controller_a01e77a39dbbc163b94a8140655e09dc2}{register\+New\+Information}} ()
\item 
\mbox{\hyperlink{class_controllers_1_1_information_controller_a94e1bb8c6e499dcdf20c2c2cd04b9312}{display\+Event}} ()
\item 
\mbox{\hyperlink{class_controllers_1_1_information_controller_a5889685424c90cb9dd684d03aae717d7}{read\+Spread\+Sheet}} (\$content)
\end{DoxyCompactItemize}
\doxysubsection*{Fonctions membres publiques hérités de \mbox{\hyperlink{class_controllers_1_1_controller}{Controllers\textbackslash{}\+Controller}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_controllers_1_1_controller_aaeb45a11be8dc21adc2510207da2e267}{get\+Part\+Of\+Url}} ()
\item 
\mbox{\hyperlink{class_controllers_1_1_controller_ae0308859afceb3e6e3c63e55b6031a01}{add\+Log\+Event}} (\$event)
\item 
\mbox{\hyperlink{class_controllers_1_1_controller_a08b4d5d7ceaf0a84eb016499019917f0}{get\+Url}} (\$code)
\item 
\mbox{\hyperlink{class_controllers_1_1_controller_af84e253c86099dd88620c77d6e4d9272}{get\+File\+Path}} (\$code)
\item 
\mbox{\hyperlink{class_controllers_1_1_controller_a7aa2da46fe2d8a33bde26d5d7dd02766}{add\+File}} (\$code)
\item 
\mbox{\hyperlink{class_controllers_1_1_controller_abcbc852c95efc795b3c74abf64d7a8f8}{is\+Real\+Date}} (\$date)
\end{DoxyCompactItemize}
\doxysubsubsection*{Attributs privés}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_controllers_1_1_information_controller_aee3b81e511383a3a948c84240401749f}{\$model}}
\item 
\mbox{\hyperlink{class_controllers_1_1_information_controller_aada5a98075dbe63862b87e4369dee020}{\$view}}
\end{DoxyCompactItemize}


\doxysubsection{Documentation des constructeurs et destructeur}
\Hypertarget{class_controllers_1_1_information_controller_ae7a330c05be4f611751a235d23929127}\index{Controllers\textbackslash{}InformationController@{Controllers\textbackslash{}InformationController}!\_\_construct@{\_\_construct}}
\index{\_\_construct@{\_\_construct}!Controllers\textbackslash{}InformationController@{Controllers\textbackslash{}InformationController}}
\doxysubsubsection{\texorpdfstring{\_\_construct()}{\_\_construct()}}
{\footnotesize\ttfamily \label{class_controllers_1_1_information_controller_ae7a330c05be4f611751a235d23929127} 
Controllers\textbackslash{}\+Information\+Controller\+::\+\_\+\+\_\+construct (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}

Constructeur de la classe.

Ce constructeur initialise les instances des modèles et des vues nécessaires pour gérer les informations. Il crée une nouvelle instance de la classe {\ttfamily Information} pour le modèle et une instance de {\ttfamily Information\+View} pour la vue.

\begin{DoxyVersion}{Version}
1.\+0 
\end{DoxyVersion}
\begin{DoxyDate}{Date}
2024-\/10-\/16 
\end{DoxyDate}


\doxysubsection{Documentation des fonctions membres}
\Hypertarget{class_controllers_1_1_information_controller_ac3f12181824a884165d0fdd4d1e44f15}\index{Controllers\textbackslash{}InformationController@{Controllers\textbackslash{}InformationController}!create@{create}}
\index{create@{create}!Controllers\textbackslash{}InformationController@{Controllers\textbackslash{}InformationController}}
\doxysubsubsection{\texorpdfstring{create()}{create()}}
{\footnotesize\ttfamily \label{class_controllers_1_1_information_controller_ac3f12181824a884165d0fdd4d1e44f15} 
Controllers\textbackslash{}\+Information\+Controller\+::create (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}

Crée de nouvelles informations à partir des entrées utilisateur.

Cette méthode gère la création de différents types d\textquotesingle{}informations (texte, image, tableau, PDF, événement) en fonction des actions des formulaires soumis. Elle effectue les opérations suivantes \+:


\begin{DoxyItemize}
\item Récupère l\textquotesingle{}utilisateur courant.
\item Récupère les données des formulaires pour chaque type d\textquotesingle{}information.
\item Définit les propriétés de l\textquotesingle{}objet {\ttfamily Information}.
\item Insère l\textquotesingle{}information dans le modèle approprié et gère les fichiers téléchargés selon leur type.
\end{DoxyItemize}

Si le titre est vide, un titre par défaut "{}\+Sans titre"{} est utilisé. La méthode valide les types de fichiers et affiche des messages d\textquotesingle{}erreur si des fichiers non valides sont soumis. Elle construit également et retourne un formulaire pour permettre à l\textquotesingle{}utilisateur de créer plus d\textquotesingle{}informations.

\begin{DoxyReturn}{Renvoie}
string HTML du formulaire de création d\textquotesingle{}informations avec des options de sélection. 
\end{DoxyReturn}
\Hypertarget{class_controllers_1_1_information_controller_a9830fd36eafa174a6b96569d8187cf97}\index{Controllers\textbackslash{}InformationController@{Controllers\textbackslash{}InformationController}!deleteFile@{deleteFile}}
\index{deleteFile@{deleteFile}!Controllers\textbackslash{}InformationController@{Controllers\textbackslash{}InformationController}}
\doxysubsubsection{\texorpdfstring{deleteFile()}{deleteFile()}}
{\footnotesize\ttfamily \label{class_controllers_1_1_information_controller_a9830fd36eafa174a6b96569d8187cf97} 
Controllers\textbackslash{}\+Information\+Controller\+::delete\+File (\begin{DoxyParamCaption}\item[{}]{\$id}{}\end{DoxyParamCaption})}

Delete the file who\textquotesingle{}s link to the id


\begin{DoxyParams}{Paramètres}
{\em \$id} & int Code \\
\hline
\end{DoxyParams}
\Hypertarget{class_controllers_1_1_information_controller_abb958c063180d6e0553a62b6f16c15dd}\index{Controllers\textbackslash{}InformationController@{Controllers\textbackslash{}InformationController}!displayAll@{displayAll}}
\index{displayAll@{displayAll}!Controllers\textbackslash{}InformationController@{Controllers\textbackslash{}InformationController}}
\doxysubsubsection{\texorpdfstring{displayAll()}{displayAll()}}
{\footnotesize\ttfamily \label{class_controllers_1_1_information_controller_abb958c063180d6e0553a62b6f16c15dd} 
Controllers\textbackslash{}\+Information\+Controller\+::display\+All (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}

\Hypertarget{class_controllers_1_1_information_controller_a94e1bb8c6e499dcdf20c2c2cd04b9312}\index{Controllers\textbackslash{}InformationController@{Controllers\textbackslash{}InformationController}!displayEvent@{displayEvent}}
\index{displayEvent@{displayEvent}!Controllers\textbackslash{}InformationController@{Controllers\textbackslash{}InformationController}}
\doxysubsubsection{\texorpdfstring{displayEvent()}{displayEvent()}}
{\footnotesize\ttfamily \label{class_controllers_1_1_information_controller_a94e1bb8c6e499dcdf20c2c2cd04b9312} 
Controllers\textbackslash{}\+Information\+Controller\+::display\+Event (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}

Affiche les événements à partir de la liste d\textquotesingle{}informations d\textquotesingle{}événements.

Récupère tous les événements enregistrés et les affiche en utilisant le modèle de vue approprié. Les événements peuvent être des fichiers PDF ou des images. Si un événement est un PDF, il est affiché dans une zone spécifiée; sinon, l\textquotesingle{}image correspondante est affichée.

\begin{DoxyReturn}{Renvoie}
void
\end{DoxyReturn}
\begin{DoxyVersion}{Version}
1.\+0.\+0 
\end{DoxyVersion}
\begin{DoxyDate}{Date}
2024-\/10-\/16 
\end{DoxyDate}
\Hypertarget{class_controllers_1_1_information_controller_a8a0704e7ed3fa94407745596ba85202a}\index{Controllers\textbackslash{}InformationController@{Controllers\textbackslash{}InformationController}!endDateCheckInfo@{endDateCheckInfo}}
\index{endDateCheckInfo@{endDateCheckInfo}!Controllers\textbackslash{}InformationController@{Controllers\textbackslash{}InformationController}}
\doxysubsubsection{\texorpdfstring{endDateCheckInfo()}{endDateCheckInfo()}}
{\footnotesize\ttfamily \label{class_controllers_1_1_information_controller_a8a0704e7ed3fa94407745596ba85202a} 
Controllers\textbackslash{}\+Information\+Controller\+::end\+Date\+Check\+Info (\begin{DoxyParamCaption}\item[{}]{\$id}{, }\item[{}]{\$end\+Date}{}\end{DoxyParamCaption})}

Vérifie si la date de fin d\textquotesingle{}une information est dépassée.

Si la date de fin est inférieure ou égale à la date actuelle, l\textquotesingle{}information associée est supprimée, ainsi que son fichier.


\begin{DoxyParams}[1]{Paramètres}
int & {\em \$id} & L\textquotesingle{}identifiant de l\textquotesingle{}information à vérifier. \\
\hline
string & {\em \$end\+Date} & La date de fin au format \textquotesingle{}Y-\/m-\/d\textquotesingle{}.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Renvoie}
void
\end{DoxyReturn}
\begin{DoxyVersion}{Version}
1.\+0.\+0 
\end{DoxyVersion}
\begin{DoxyDate}{Date}
2024-\/10-\/16 
\end{DoxyDate}
\Hypertarget{class_controllers_1_1_information_controller_a12d200352a5d0546cbb9c845a0513595}\index{Controllers\textbackslash{}InformationController@{Controllers\textbackslash{}InformationController}!informationMain@{informationMain}}
\index{informationMain@{informationMain}!Controllers\textbackslash{}InformationController@{Controllers\textbackslash{}InformationController}}
\doxysubsubsection{\texorpdfstring{informationMain()}{informationMain()}}
{\footnotesize\ttfamily \label{class_controllers_1_1_information_controller_a12d200352a5d0546cbb9c845a0513595} 
Controllers\textbackslash{}\+Information\+Controller\+::information\+Main (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}

Affiche les informations principales sous forme de diaporama.

Récupère la liste des informations, vérifie si leur date d\textquotesingle{}expiration est dépassée, et affiche chaque information en fonction de son type. Pour les tableaux, le contenu est lu à partir d\textquotesingle{}un fichier et formaté pour l\textquotesingle{}affichage.

\begin{DoxyReturn}{Renvoie}
void
\end{DoxyReturn}
\begin{DoxyVersion}{Version}
1.\+0.\+0 
\end{DoxyVersion}
\begin{DoxyDate}{Date}
2024-\/10-\/16 
\end{DoxyDate}
\Hypertarget{class_controllers_1_1_information_controller_a731fac8771d3dcc7d56b37b9612d110c}\index{Controllers\textbackslash{}InformationController@{Controllers\textbackslash{}InformationController}!modify@{modify}}
\index{modify@{modify}!Controllers\textbackslash{}InformationController@{Controllers\textbackslash{}InformationController}}
\doxysubsubsection{\texorpdfstring{modify()}{modify()}}
{\footnotesize\ttfamily \label{class_controllers_1_1_information_controller_a731fac8771d3dcc7d56b37b9612d110c} 
Controllers\textbackslash{}\+Information\+Controller\+::modify (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}

Modifie une information existante en fonction de l\textquotesingle{}identifiant fourni.

Cette méthode gère la modification des informations en vérifiant d\textquotesingle{}abord si l\textquotesingle{}utilisateur a les droits nécessaires. Elle permet de mettre à jour le titre, le contenu, la date d\textquotesingle{}expiration et de remplacer un fichier (image, PDF, tableau) si un nouveau fichier est téléchargé. Elle inclut également une option pour supprimer l\textquotesingle{}information.

Le processus suit les étapes suivantes \+:


\begin{DoxyItemize}
\item Vérifie si l\textquotesingle{}identifiant est fourni et valide.
\item Vérifie les droits d\textquotesingle{}accès de l\textquotesingle{}utilisateur actuel.
\item Charge l\textquotesingle{}information à modifier.
\item Gère la mise à jour des champs de l\textquotesingle{}information.
\item Gère le téléchargement d\textquotesingle{}un nouveau fichier, avec des validations de type de fichier appropriées.
\item Affiche un message de validation ou d\textquotesingle{}erreur selon le résultat de la mise à jour ou de la suppression.
\end{DoxyItemize}

Si l\textquotesingle{}utilisateur n\textquotesingle{}a pas les droits requis ou si l\textquotesingle{}information n\textquotesingle{}existe pas, la méthode retourne un message approprié.

\begin{DoxyReturn}{Renvoie}
string HTML du formulaire de modification de l\textquotesingle{}information avec les valeurs actuelles.
\end{DoxyReturn}
\begin{DoxyVersion}{Version}
1.\+0.\+0 
\end{DoxyVersion}
\begin{DoxyDate}{Date}
2024-\/10-\/16 
\end{DoxyDate}
\Hypertarget{class_controllers_1_1_information_controller_a5889685424c90cb9dd684d03aae717d7}\index{Controllers\textbackslash{}InformationController@{Controllers\textbackslash{}InformationController}!readSpreadSheet@{readSpreadSheet}}
\index{readSpreadSheet@{readSpreadSheet}!Controllers\textbackslash{}InformationController@{Controllers\textbackslash{}InformationController}}
\doxysubsubsection{\texorpdfstring{readSpreadSheet()}{readSpreadSheet()}}
{\footnotesize\ttfamily \label{class_controllers_1_1_information_controller_a5889685424c90cb9dd684d03aae717d7} 
Controllers\textbackslash{}\+Information\+Controller\+::read\+Spread\+Sheet (\begin{DoxyParamCaption}\item[{}]{\$content}{}\end{DoxyParamCaption})}

Lit un fichier tableur et retourne son contenu au format HTML.

Cette méthode charge un fichier tableur à partir du chemin donné et génère un tableau HTML contenant les données. Les données sont regroupées par tableau pour chaque 10 lignes lues. Elle utilise la bibliothèque Php\+Spreadsheet pour gérer différents types de fichiers de tableur.


\begin{DoxyParams}[1]{Paramètres}
string & {\em \$content} & Chemin relatif du fichier tableur à lire.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Renvoie}
array Un tableau contenant les chaînes de caractères HTML des tableaux générés à partir des données du fichier.
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em } & \\
\hline
\end{DoxyExceptions}
Php\+Office\textbackslash{}\+Php\+Spreadsheet\textbackslash{}\+Reader\textbackslash{}\+Exception Si le fichier ne peut pas être lu ou si le format est non pris en charge.

\begin{DoxyVersion}{Version}
1.\+0.\+0 
\end{DoxyVersion}
\begin{DoxyDate}{Date}
2024-\/10-\/16 
\end{DoxyDate}
\Hypertarget{class_controllers_1_1_information_controller_a58266dec0e8218bb55a7511c9aa49074}\index{Controllers\textbackslash{}InformationController@{Controllers\textbackslash{}InformationController}!registerFile@{registerFile}}
\index{registerFile@{registerFile}!Controllers\textbackslash{}InformationController@{Controllers\textbackslash{}InformationController}}
\doxysubsubsection{\texorpdfstring{registerFile()}{registerFile()}}
{\footnotesize\ttfamily \label{class_controllers_1_1_information_controller_a58266dec0e8218bb55a7511c9aa49074} 
Controllers\textbackslash{}\+Information\+Controller\+::register\+File (\begin{DoxyParamCaption}\item[{}]{\$filename}{, }\item[{}]{\$tmp\+Name}{, }\item[{}]{\$entity}{}\end{DoxyParamCaption})}

Enregistre un fichier téléchargé et met à jour l\textquotesingle{}entité associée.

Cette méthode déplace un fichier temporaire vers un emplacement définitif sur le serveur et met à jour l\textquotesingle{}entité donnée avec les informations du fichier. Si l\textquotesingle{}entité n\textquotesingle{}a pas encore d\textquotesingle{}identifiant, elle sera insérée dans la base de données. Sinon, les informations existantes seront mises à jour.

Le nom du fichier est ensuite modifié pour inclure un hachage MD5 afin de garantir l\textquotesingle{}unicité. Si l\textquotesingle{}enregistrement ou le téléchargement échoue, un message d\textquotesingle{}erreur sera affiché à l\textquotesingle{}utilisateur.


\begin{DoxyParams}[1]{Paramètres}
string & {\em \$filename} & Le nom du fichier téléchargé. \\
\hline
string & {\em \$tmp\+Name} & Le nom temporaire du fichier sur le serveur. \\
\hline
object & {\em \$entity} & L\textquotesingle{}entité à laquelle le contenu du fichier est associé.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Renvoie}
void
\end{DoxyReturn}
\begin{DoxyVersion}{Version}
1.\+0.\+0 
\end{DoxyVersion}
\begin{DoxyDate}{Date}
2024-\/10-\/16 
\end{DoxyDate}
\Hypertarget{class_controllers_1_1_information_controller_a01e77a39dbbc163b94a8140655e09dc2}\index{Controllers\textbackslash{}InformationController@{Controllers\textbackslash{}InformationController}!registerNewInformation@{registerNewInformation}}
\index{registerNewInformation@{registerNewInformation}!Controllers\textbackslash{}InformationController@{Controllers\textbackslash{}InformationController}}
\doxysubsubsection{\texorpdfstring{registerNewInformation()}{registerNewInformation()}}
{\footnotesize\ttfamily \label{class_controllers_1_1_information_controller_a01e77a39dbbc163b94a8140655e09dc2} 
Controllers\textbackslash{}\+Information\+Controller\+::register\+New\+Information (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}

Enregistre les nouvelles informations à partir du site administrateur.

Récupère la liste des informations du site administrateur et compare avec les informations existantes dans le modèle. Met à jour les informations existantes si nécessaire, ou les supprime si elles ne sont plus présentes. Ajoute également les nouvelles informations qui ne sont pas encore enregistrées.

\begin{DoxyReturn}{Renvoie}
void
\end{DoxyReturn}
\begin{DoxyVersion}{Version}
1.\+0.\+0 
\end{DoxyVersion}
\begin{DoxyDate}{Date}
2024-\/10-\/16 
\end{DoxyDate}


\doxysubsection{Documentation des données membres}
\Hypertarget{class_controllers_1_1_information_controller_aee3b81e511383a3a948c84240401749f}\index{Controllers\textbackslash{}InformationController@{Controllers\textbackslash{}InformationController}!\$model@{\$model}}
\index{\$model@{\$model}!Controllers\textbackslash{}InformationController@{Controllers\textbackslash{}InformationController}}
\doxysubsubsection{\texorpdfstring{\$model}{\$model}}
{\footnotesize\ttfamily \label{class_controllers_1_1_information_controller_aee3b81e511383a3a948c84240401749f} 
Controllers\textbackslash{}\+Information\+Controller\+::\$model\hspace{0.3cm}{\ttfamily [private]}}

\Hypertarget{class_controllers_1_1_information_controller_aada5a98075dbe63862b87e4369dee020}\index{Controllers\textbackslash{}InformationController@{Controllers\textbackslash{}InformationController}!\$view@{\$view}}
\index{\$view@{\$view}!Controllers\textbackslash{}InformationController@{Controllers\textbackslash{}InformationController}}
\doxysubsubsection{\texorpdfstring{\$view}{\$view}}
{\footnotesize\ttfamily \label{class_controllers_1_1_information_controller_aada5a98075dbe63862b87e4369dee020} 
Controllers\textbackslash{}\+Information\+Controller\+::\$view\hspace{0.3cm}{\ttfamily [private]}}



La documentation de cette classe a été générée à partir du fichier suivant \+:\begin{DoxyCompactItemize}
\item 
C\+:/\+Users/gallo/\+One\+Drive/\+Documents/\+SAé-\/casali/\+SAE\+\_\+\+TV\+\_\+\+CONNECTEES/public/wp-\/content/plugins/plugin-\/ecran-\/connecte/src/controllers/\mbox{\hyperlink{_information_controller_8php}{Information\+Controller.\+php}}\end{DoxyCompactItemize}
